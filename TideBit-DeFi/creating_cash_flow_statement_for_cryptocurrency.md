# 加密貨幣交易所的現金流量表撰寫指南

# 什麼是現金流量表（現金流量表的重要性跟作用）

現金流量表是一份財務報表，詳細記錄了一家公司在特定時期的現金收入和支出（變化）。它的主要作用是：

- 提供清晰的現金流動概覽：幫助公司了解在特定時期內，現金是如何進出的。
- 評估公司的營運能力：通過觀察現金流量，可以判斷公司是否有足夠的現金來支付日常運營。
- 投資決策的參考：對於投資者來說，現金流量表可以提供公司財務健康狀況的重要資訊。

# 加密貨幣交易所的特色（與一般交易所的異同）

加密貨幣交易所是一個允許用戶買賣數位貨幣的平台。與一般交易所相比，它有以下特色：

- 數位資產交易：主要交易的是數位貨幣，如比特幣、以太幣等。
- 高度的網路安全需求：因為交易的是數位資產，所以需要更高的網路安全措施。
- 特殊的儲存方式：例如冷錢包（不連接網路的儲存方式）和熱錢包（連接網路的儲存方式）。
- 法規環境的不確定性：加密貨幣的法規在許多國家仍在發展中，因此交易所需要持續適應。

# 加密貨幣交易所的營運活動

- 入金
  - 法幣入金
  - 加密貨幣入金
- 出金
  - 法幣出金
  - 加密貨幣出金
- 現貨交易
- CFD 交易
- 永續期貨合約
  - 有資金費率（應收）

# 製作加密貨幣交易所的現金流量表需要的資料及對應的會計科目

## 營運活動 (Operating Activities)

- User deposit: 用戶的法幣存款
- User crypto eeposit: 用戶的加密貨幣存款
- User withdrawal: 用戶的法幣提款
- User crypto withdrawal: 用戶的加密貨幣提款
- Cryptocurrencies: 交易所持有的加密貨幣
- Cash received from customers: 從客戶那邊賺到的錢
- USDT: 交易所持有的 USDT
- USDC: 交易所持有的 USDC
- 用法幣購買加密貨幣(Purchase of cryptocurrencies)
- 賣掉加密貨幣獲得法幣(Disposal of cryptocurrencies)

## 投資活動 (Investing Activities)

-

## 籌資活動 (Financing Activities)

- 從發行普通股所得的資金(xProceeds from issuance of common stockx or xCash received from issuing common stockx)
- 長期債務 (Long-Term Debt): 債務的增加或減少
- 短期借款 (Short-Term Borrowings): 債務的增加或減少
- 股利的支付 (Payments of dividends)
- 庫藏股 (Treasury Stock): 購買或出售自家股票

## 非現金的營運活動補充 (Supplemental schedule of non-cash operating activities)

- 用加密貨幣購買加密貨幣(Purchase of cryptocurrencies with non-cash consideration)
- 賣掉加密貨幣獲得加密貨幣(Disposal of cryptocurrencies for non-cash consideration)

# 現金流量表的實例

## 法幣入金

- 指定期間內，用戶總共入金 1000 USD
  - 交易所流入 1000 美元

Cash flows from operating activities:

User deposit：$1,000

---

## 加密貨幣入金

- 指定期間內，用戶總共入金 1 ETH ，1 ETH= 1000 USD
  - 交易所流入 1000 美元價值的 ETH

Cash flows from operating activities:

User crypto deposit：$1,000

---

## 法幣出金

- 指定期間內，用戶總共出金 1000 USD

Cash flows from operating activities:

User withdrawal：($1,000)

---

## 加密貨幣出金

- 指定期間內，用戶總共出金 1 ETH (價值一千美元)

Cash flows from operating activities:

User crypto withdrawal：($1,000)

---

## 現貨交易

### 買賣 BTC

### 交易所用 USD 買、用戶用 USD 買賣

- 指定期間內，交易所自己斷斷續續用 USD 逢低買進 BTC，總共買入 10 BTC；用戶總共用 USD 下單買 5 BTC 跟賣 1 BTC
  - 粗淺地假設交易所買入 10 BTC 時匯率為 900 USD/BTC，用戶買入時匯率為 1000 USD/BTC，用戶賣出時匯率為 800 USD/BTC，財報結算時的匯率為 800 USD/BTC，交易所點差固定為 2 %，單向為(2%/2=0.01)
  - 用戶 5*1000-1*800=5000-800=4200 總共買入 4200 美元價值的 3 BTC，代表交易所賣出 4200 美元價值的 3 BTC
  - 交易所持有 10-3= 7 BTC
  - ~~交易收入為 5*1000*0.01 + 1*800*0.01=58 美元~~

### 過程

- 交易所自己總共買入 10 BTC
  - 加上別的交易所的點差 0.1 %，現金流出了 9009 美元，因為購買了 10 BTC

**Cash flows from operating activities:**

Cryptocurrencies: $9,000

Purchase of cryptocurrencies: ($9,009)

- 用戶在交易所買入 5 BTC
  - 加上我們交易所的點差 1 %，現金流入 5050 美元，將價值 5000 美元的 BTC 賣給用戶

**Cash flows from operating activities:**

Cryptocurrencies: ($5,000)

Disposal of cryptocurrencies: $5,050

- 用戶在交易所賣出 1 BTC
  - 加上我們交易所的點差 1 %，現金流出了 792 美元，跟用戶買的 1 BTC

**Cash flows from operating activities:**

Cryptocurrencies: $800

Purchase of cryptocurrencies: ($792)

### 結果

- 這段期間的現金流量表
  - 總共賺得 4800-9801+5050=49

**Cash flows from operating activities:**

Cryptocurrencies: $4,800

Purchase of cryptocurrencies: ($9,801)

Disposal of cryptocurrencies: $5,050

**NET CASH FLOW FROM OPERATING ACTIVITIES: $49**

---

### 交易所用 USDT 買、用戶用 USDT 買賣

- 指定期間內，交易所自己斷斷續續用 USDT 逢低買進 BTC，總共買入 10 BTC；用戶總共用 USD 下單買 5 BTC 跟賣 1 BTC
  - 粗淺地假設交易所買入 10 BTC 時匯率為 900 USDT/BTC，用戶買入時匯率為 1000 USDT/BTC，用戶賣出時匯率為 800 USDT/BTC，財報結算時的匯率為 800 USDT/BTC，交易所點差固定為 2 %，單向為(2%/2=0.01)，1 USDT = 1 USD
  - 用戶 5*1000-1*800=5000-800=4200 總共買入 4200 美元價值的 3 BTC，代表交易所賣出 4200 美元價值的 3 BTC
  - 交易所持有 10-3= 7 BTC
  - ~~交易收入為 5*1000*0.01 + 1*800*0.01=58 美元~~

### 過程

- 交易所自己總共買入 10 BTC
  - 加上別的交易所的點差 0.1 %，現金流出了 9009 USDT，因為購買了 10 BTC

**Supplemental schedule of non-cash operating activities**：

Cryptocurrencies: $9,000

Purchase of cryptocurrencies with non-cash consideration: ($9,009)

- 用戶在交易所買入 5 BTC
  - 加上我們交易所的點差 1 %，現金流入 5050 USDT，因為將價值 5000 美元的 BTC 賣給用戶

**Supplemental schedule of non-cash operating activities**：

Cryptocurrencies: ($5,000)

Disposal of cryptocurrencies for non-cash consideration: $5,050

- 用戶在交易所賣出 1 BTC
  - 加上我們交易所的點差 1 %，現金流出了 792 USDT，因為跟用戶買的 1 BTC

**Supplemental schedule of non-cash operating activities**：

Cryptocurrencies: $800

Purchase of cryptocurrencies with non-cash consideration: ($792)

### 結果

- 這段期間的現金流量表
  - 4800-9801+5050=49

**非現金的營運活動補充 (Supplemental schedule of non-cash operating activities)**：

Cryptocurrencies: $4,800

Purchase of cryptocurrencies with non-cash consideration: ($9,801)

Disposal of cryptocurrencies for non-cash consideration: $5,050

---

## CFD 交易

### 用戶用 USD 做多做空 BTC，倉位皆以清算

- 指定期間內，交易所本身資產(狀態)有 10 BTC，10,000 USD；用戶**幾乎同時**開 5 BTC 價值 5000 美元的多單，開 2 BTC 價值 2000 美元空單，槓桿為 5 倍，皆已關倉
  - 用戶做多匯率為 1000 USD/BTC，用戶做空匯率為 1000 USD/BTC，用戶關倉時匯率為 800 USD/BTC，財報結算時匯率 800 USD/BTC，交易所點差固定為 2 %，單向為(2%/2=0.01)，1 USDT = 1 USD，強制平倉手續費為 0.01%，手續費為 0
  - **多空沖銷後**，剩下 5-2=3 BTC 多單，交易所本身的 10 BTC 跟 10000 USD 流動性足夠，故沒有另外買賣 BTC

### 過程

- 保證金為涵蓋點差的價格除以槓桿
- 多單
  - 保證金為 5*1000*1.01/5=$1010，((800-1000)/1000)\*5=-1 觸及強制平倉價，損失所有保證金
  - 強制平倉價格 1000*(1-0.2)*1.0001=800.08，強制平倉手續費 0.08 美元，
- 空單
  - 保證金為 2*1000*0.99/5=$396，(-(800*1.01-1000))*2=384
    - 空單關倉時拿回保證金 396 美元跟獲利 384 美元

### 結果

- 這段期間的現金流量表
  - 1010-384=626

**Cash flows from operating activities:**

Cash received from customers: $626

**NET CASH FLOW FROM OPERATING ACTIVITIES: $626**

---

### 交易所用 USD 買 BTC，用戶用 USD 做多做空 BTC，倉位皆以清算

- 指定期間內，交易所本身資產(狀態)有 3 BTC，10,000 USD，陸續總共買了 1 BTC；用戶**幾乎同時**開 5 BTC 價值 5000 美元的多單，開 2 BTC 價值 2000 美元空單，槓桿為 5 倍，皆已關倉
  - 交易所買 BTC 的匯率為 900 USD/BTC，用戶做多匯率為 1000 USD/BTC，用戶做空匯率為 1000 USD/BTC，用戶關倉時匯率為 800 USD/BTC，財報結算時匯率 800 USD/BTC，交易所點差固定為 2 %，單向為(2%/2=0.01)，1 USDT = 1 USD，強制平倉手續費為 0.01%，手續費為 0
  - **多空沖銷後**，剩下 5-2=3 BTC 多單，交易所買入 1 BTC 以確保資產價值

### 過程

- 交易所總共買入 1 BTC
  - 加上別的交易所的點差 0.1 %，現金流出 900.9 美元

**Cash flows from operating activities:**

Cryptocurrencies: $900

Purchase of cryptocurrencies: ($900.9)

- 保證金為涵蓋點差的價格除以槓桿
- 多單
  - 保證金為 5*1000*1.01/5=$1010，((800-1000)/1000)\*5=-1 觸及強制平倉價，損失所有保證金
  - 強制平倉價格 1000*(1-0.2)*1.0001=800.08，強制平倉手續費 0.08 美元，
- 空單
  - 保證金為 2*1000*0.99/5=$396，(-(800*1.01-1000))*2=384
    - 空單關倉時拿回保證金 396 美元跟獲利 384 美元

### 結果

- 這段期間的現金流量表
  - 1010-384-900.9+900=625.1

**Cash flows from operating activities:**

Cash received from customers: $626

Cryptocurrencies: $900

Purchase of cryptocurrencies: ($900.9)

---

### 用戶用 USDT 做多做空 BTC，倉位皆以清算

- 指定期間內，交易所本身資產(狀態)有 10 BTC，10,000 USDT；用戶**幾乎同時**開 5 BTC 價值 5000 USDT 的多單，開 2 BTC 價值 2000USDT 空單，槓桿為 5 倍，皆已關倉
  - 用戶做多匯率為 1000 USDT/BTC，用戶做空匯率為 1000 USDT/BTC，用戶關倉時匯率為 800 USDT/BTC，財報結算時匯率 800 USDT/BTC，交易所點差固定為 2 %，單向為(2%/2=0.01)，1 USDT = 1 USD，強制平倉手續費為 0.01%，手續費為 0，1 USDT = 1 USD
  - **多空沖銷後**，剩下 5-2=3 BTC 多單，交易所本身的 10 BTC 跟 10000 USDT 流動性足夠，故沒有另外買賣 BTC

### 過程

- 保證金為涵蓋點差的價格除以槓桿
- 多單
  - 保證金為 5*1000*1.01/5=$1010，((800-1000)/1000)\*5=-1 觸及強制平倉價，損失所有保證金
  - 強制平倉價格 1000*(1-0.2)*1.0001=800.08，強制平倉手續費 0.08 USDT ，
- 空單
  - 保證金為 2*1000*0.99/5=396 USDT ，(-(800*1.01-1000))*2=384 USDT
    - 空單關倉時拿回保證金 396 USDT 跟獲利 384 USDT

### 結果

- 這段期間的現金流量表
  - 1010-384=626

**Cash flows from operating activities:**

USDT received from customers: $626

---

### 交易所用 USDT 買 BTC，用 USDT 做多做空 BTC，倉位皆以清算

- 指定期間內，交易所本身資產(狀態)有 3 BTC，10,000 USDT，陸續總共買了 1 BTC；用戶**幾乎同時**開 5 BTC 價值 5000 USDT 的多單，開 2 BTC 價值 2000 USDT 空單，槓桿為 5 倍，皆已關倉
  - 交易所買 BTC 的匯率為 900 USDT/BTC，用戶做多匯率為 1000 USDT/BTC，用戶做空匯率為 1000 USDT/BTC，用戶關倉時匯率為 800 USDT/BTC，財報結算時匯率 800 USDT/BTC，交易所點差固定為 2 %，單向為(2%/2=0.01)，1 USDT = 1 USD，強制平倉手續費為 0.01%，手續費為 0
  - **多空沖銷後**，剩下 5-2=3 BTC 多單，交易所買入 1 BTC 以確保資產價值

### 過程

- 交易所總共買入 1 BTC
  - 加上別的交易所的點差 0.1 %，現金流出 900.9 USDT

**Cash flows from operating activities:**

Cryptocurrencies: $900

USDT: ($900.9)

- 保證金為涵蓋點差的價格除以槓桿
- 多單
  - 保證金為 5*1000*1.01/5=$1010，((800-1000)/1000)\*5=-1 觸及強制平倉價，損失所有保證金
  - 強制平倉價格 1000*(1-0.2)*1.0001=800.08，強制平倉手續費 0.08 美元，
- 空單
  - 保證金為 2*1000*0.99/5=$396，(-(800*1.01-1000))*2=384
    - 空單關倉時拿回保證金 396 美元跟獲利 384 美元

### 結果

- 這段期間的現金流量表
  - USDT: -900.9+626=-274.9
  - 900-274.9=625.1

**Cash flows from operating activities:**

USDT: ($274.9)

Cryptocurrencies: $900

**NET CASH FLOW FROM OPERATING ACTIVITIES: $625.1**

---

## 永續合約 (跟現貨交易概念一樣，除了沒有到期日)

- 未平倉
- 已平倉
- 自動減倉
- 資金費率調整
- 強制平倉
- 保證金調整

### 交易所用 USD 買 BTC，用戶用 USD 做多做空 BTC，部分倉位未結算

---

### 交易所用 USDT 買 BTC，用 USDT 做多做空 BTC，部分倉位未清算

---

---

# 現金流量表的製作方法和注意事項

- 投資活動和籌資活動的直接法比較容易理解，因為它們直接反映了資產和負債的變動。而間接法則需要將資產和負債的變動轉換成現金流量的影響，這可能比較複雜和不直觀。以下例子皆為營運活動

## 直接法

透過各個活動的實際資料，列出具體現金收入跟支出，直接製作現金流量表。

## 間接法

從淨利開始，調整非現金項目和營運資本的變動。

間接法的步驟如下：

1. 從損益表中取得交易所的淨利（損）。
2. 將非現金項目（如折舊、攤銷、存貨減值等）加回淨利（損）。
3. 將與營運活動相關的資產和負債變動（如應收帳款、預付款項、應付帳款等）調整到淨利（損）中。
4. 得到營運活動的淨現金流量。

## 例子

直接法：

營運活動現金流量：

1. 交易收入：$15,000
2. 其他營運支出：-$10,000

營運活動淨現金流量：$5,000

---

間接法：

營運活動現金流量：

1. 月淨利：$5,000 (這是存款手續費和 CFD 交易收入減去所有支出)
2. 調整項目：
   - 非現金支出：$0
   - 交易收入已包含在淨利中
   - 其他營運支出已在淨利中扣除

營運活動淨現金流量：$5,000

## 驗算

1. 計算期初和期末的現金餘額。期初的現金餘額是指報告期間開始時交易所持有的現金和等價物（如銀行存款、短期投資等）。期末的現金餘額是指報告期間結束時交易所持有的現金和等價物。這兩個數字可以從交易所的資產負債表中獲得。
2. 計算期間內的淨增減現金餘額。將三大類現金流動的淨額相加，得到期間內的淨增減現金餘額。這個數字應該與期初和期末的現金餘額之差相等，以檢驗現金流量表的準確性。
